{"version":3,"sources":["script.js"],"names":["swiper","init","spinner","breakPoint","window","matchMedia","Swiper","matches","speed","autoplay","delay","tabs","tabsControlsSelectors","tabsContentsSelectors","bound","tabsControls","document","querySelectorAll","tabsContents","forEach","control","i","item","cleanFromActive","remove","add","classList","bountTabs","boundFirstControls","boundFirstContents","boundedControls","items","clean","boundedContents","galleryThumbs","mainsliderSelectors","thumbBtnPrev","thumbBtnNext","spaceBetween","slidesPerView","freeMode","watchSlidesVisibility","watchSlidesProgress","navigation","prevEl","nextEl","breakpoints","thumbsliderSelectors","thumbs","allTriggers","allshowTriggers","trigger","addEventListener","hiddenElements","parentElement","length","showNeededData","priceWrapper","querySelector","option","price","textContent","data","changeOptions","parentEl","tabContent","newItem","innerHTML","type","createElement","materialCount","key","value","toggleSpinner","toggler","assemblyCount","append","find","setTimeout","changeSizes","sizes","model","elem","name","retrieveData","saunaData","id","console","log","_i","_Object$keys","Object","keys","changeData","sizesElems","size","modelElems","showAllEstim","spaSlider","pagination","modifierClass","progressbarFillClass","initTabSliders","Fancybox","autoFocus","initSlider","320","576","768","992","1315","1400","el","800","1300","bind","placeFocusBack"],"mappings":"aAAA,IACIA,OADAC,MAAO,EAAPA,SAAO,EAEX,SAAIC,aAGA,IAAMC,EAAaC,OAAOC,WAAW,uBAA/BF,EAAaC,UAAOC,OAGtBL,OAAS,IAAIM,OAAO,sBAAuB,CAD3CH,MAAWI,EACLC,MAAOF,IACHG,SADiC,CAAAC,MAAA,OAG7BT,MAAA,GAKjBA,OAAAE,EAAAI,UAGGN,MAAO,EADPA,OAASE,WAIhB,SAAAQ,KAAAC,EAAAC,EAAAC,GAGG,IAAMC,EAAeC,SAASC,iBAAiBL,GAD1CD,EAAKC,SAAAA,iBAAuBC,GAEjCE,EAAMG,SAAeF,SAAAA,EAASC,GAE9BF,EAAaI,iBAASC,SAASC,WAa3BN,EAAaI,SAAQ,SAAAG,GADhBC,EAAAA,UAATC,OAA2B,aACvBN,EAAAC,SAAA,SAAAG,GAIAJ,EAAaC,UAAQK,OAAA,aAfjBD,EAAAA,UAAeE,IAAA,UACPC,EAmBhB,SAAmBL,GAAnB,IAASM,EAAaX,SAAAC,iBAAA,2CACZW,EAAqBZ,SAASC,iBAAiB,gDAC/CY,EAAqBb,SAASC,iBAAiB,8CAC/Ca,EAAkBd,SAASC,iBAAiB,2CAc9Cc,SAAMZ,EAAQY,GACNA,EAACL,SAAUF,SAAAA,GADnBF,EAAAI,UAAAF,OAAA,aAXJQ,EAAMJ,GACNI,EAAMH,GACNG,EAAMF,GACNE,EAAMC,GAGNJ,EAAsBH,GAAAA,UAAcD,IAAA,UACpCK,EAAmBJ,GAAAA,UAAcD,IAAA,UACjCQ,EAAmBP,GAAAA,UAAcD,IAAA,UAAjCQ,EAAgBZ,GAAGK,UAAUD,IAAI,UA/BzBP,CAAgBQ,GAAhBR,EAAaG,GAAGK,UAAUD,IAAI,gBA0C1C,SAAMS,eAAgBC,EAAWA,EAAqBC,EAAAC,GAClDC,IAAAA,EADkD,IAAAhC,OAAA6B,EAAA,CAElDI,aAFkD,GAGlDC,cAHkD,EAIlDC,UAAAA,EACAC,uBALkD,EAMlDC,qBAAY,EACRC,WAAQR,CACFQ,OAAEP,EARsCQ,OAAAR,GAW9CS,YAAM,CACFP,KAAAA,CACAD,cAAc,EAFZA,aAAA,MASF,IAAAhC,OAAAyC,EAAA,CACJ/C,aAAQkC,GADJc,OAAA,CAFZhD,OAAAkC,KAWAe,SAAAA,aAAoBC,GAChBC,IAAAA,EAAQC,SAAiBnC,iBAAeiC,GAEpCD,EAAMI,SAAc,SAAAF,GAFxBA,EAAQC,iBAAiB,SAAS,WAI1BC,IACQ3B,EADRyB,EAA6BG,cAAAA,cACPrC,iBAAtB,4BAD0B,IAA1BoC,EAAeE,QAInBF,EAAelC,UAAQM,IAAA,iCAR3B4B,EAAAlC,SAAA,SAAAG,GADJA,EAAAI,UAAAF,OAAA,oCAgBIyB,EAAY9B,SAAQ,SAAAG,GAApB,IAIQA,EAA6BgC,cAAAA,cACVrC,iBAAnB,4BALRsC,QAQHjC,EAAAI,UAAAD,IAAA,oCAQD,SAAA+B,iBAMI,SAAMC,EAAezC,EAAS0C,GACZD,SAAaxC,cAAbwC,iBAAAA,OAA8BE,EAA9BF,OAEQpC,iBAAM,+BAAhCF,SAAA,SAAAyC,EAAAvC,GAGHuC,EAAAC,YAAAC,EAAAzC,MAeD,SAAS0C,EAAcD,EAAMH,GAKrBA,IAGAK,EAHAL,EAAW,EACXK,EAAoBN,EAGP,cAAVC,EACHK,EAAWhD,SAAS0C,cAAc,0BACrC,cAAAC,EAHGK,EAAWhD,SAAS0C,cAAc,0BAKxBpC,cAADqC,IACHM,EAAaD,SAAS/C,cAAAA,2BAI5BiD,EAAO/C,SAACgD,SAAAA,EAAR9C,GAJA,IAAM4C,EAAaD,EAAS/C,iBAAiB,0BAcpCmD,EAASpD,SAAaqD,cAAA,OAC3BC,EAAAA,UAAa7C,IAAA,qBAET6C,EAAAA,UAAAA,sEAAAA,OAEHhD,EAAAiD,IAFGD,wJAAAA,OAMShD,EAAAkD,MANTF,0CAUH,cAAAhD,EAAA8C,QAZDE,EAeH,GA/BLJ,EAAAxC,UAAAD,IAAA,2BAmCKgD,EAAcC,GAAAA,OAASR,OAXpBS,EAcJ,GACGT,EAAAxC,UAAAD,IAAA,2BAGVwC,EAAA,GAAAW,OAAAV,OAKO5C,SAAK6C,EAALO,GADJ,IAAAxE,EAAAc,SAAA0C,cAAA,uBATIgB,EAaJxE,EAAAwB,UAAAD,IAAA,UAVIvB,EAAQwB,UAAUF,OAAO,UA/EVqD,SAAK5D,iBAAI,uBA6GpB6D,SAAW,SAAAxD,GACPyD,EAAAA,iBAAiBC,SAAYC,WAC7BR,IAAAA,EA/GgB,SAA5BX,EAAAS,GAEH,OADGT,EAAAe,MAAA,SAAAK,GAAA,OAAAA,EAAAC,OAAAZ,KA8G0Ba,CAAdC,UAAA/D,EAAAgE,IACDC,QAHHC,IAAA1B,GAVRA,GAAA,IAAAA,EAAAP,SADJkB,GAAA,GAkBHK,YAAA,YAvBef,SAAcD,GACjB9C,SAAAC,iBAAA,0BACJE,SAAA,SAAAG,GACJA,EAAA6C,UAAA,MAGO,IAAA,IAAAsB,EAAA,EAAAC,EAAkBC,OAAtBC,KAA+B9B,GAA3B2B,EAAAC,EAAAnC,OAAAkC,IAA2B,CAA1BrC,IAAAA,EAAAA,EAAAA,GACYgC,aAAHb,GAAgCe,aAAhBD,GAA1B,aAAAd,EACQiB,EAAR1B,EAAAS,GAAAA,GATmB,cAARA,GAA+B,cAARA,GAA+B,cAARA,GAWjDR,EAAID,EAAZS,GAA+BA,IAGvBsB,CAAW/B,KActBV,KAEK0B,YAAA,WA3GN,IAAmB9D,EAASC,EAElB6E,EACDjC,EAHU7C,EA8GnB8C,EAAAkB,MA9G4B/D,EA8G5B6C,EADAmB,MA3GUa,EAAS9E,SAAAM,iBAAQ,yBAClBuC,EAAckC,SAAnB9E,iBAAA,0BAGJ+E,EAAW7E,SAAQ,SAAAG,GACVuC,EAAAA,YAAckC,KADvBC,EAAW7E,SAAQ,SAAAG,GAKdyC,EAAAA,YAAoBJ,KAA7BsB,KAyGIR,GAAA,KAMA,YAmCAnC,SAAAA,iBAFwD,oBAAA,WAIpDM,aADQjC,KAIZmC,0CACI,gDACIP,GAGAA,KALK,6CAOT,2CACIA,GAGAA,KAXK,4CAaT,iDAGA5B,KACI4B,4CADE,iDAMd0D,KACAzC,4CAEM0C,iDAGFC,eACM,0EACF/B,yDACAgC,6DACAC,8DAEJvD,eACI,0EACIP,yDAFK,6DAIT,8DAAM+D,eAJG,2EATjB,0DAmBAC,8DACIC,+DAtGR,IAAAlG,OAAA,uBAAA,CA6GO8C,cAAP,EACIqD,aAAU,GADd9D,WAAA,CAvDYC,OAAQ,4BACRC,OAAQ,6BAEZC,YAAa,CACT4D,IAAK,CACDnE,cAAe,GAEnBoE,IAAK,CACDpE,cAAe,GAEnBqE,IAAK,CACDrE,cAAe,GAEnBsE,IAAK,CACDtE,cAAe,GAEnBuE,KAAM,CACFvE,cAAe,GAEnBwE,KAAM,CACFxE,cAAe,MAK3B0D,aAAa,yBACbzC,iBAEkB,IAAIlD,OAAO,2BAA4B,CACrDiC,cAAe,EACfD,aAAc,GACd6D,WAAY,CACRa,GAAI,+BACJ5C,KAAM,cACNgC,cAAe,GACfC,qBAAsB,mCAE1BvD,YAAa,CACTmE,IAAK,CACD1E,cAAe,GAEnB2E,KAAM,CACF3E,cAAe,MAK3BgE,SAASY,KAAK,kBAAmB,CAC7BX,WAAW,EACXY,gBAAgB,OAMxBhH,OAAOgD,iBAAiB,UAAU,WAC9BqD","file":"script.js","sourcesContent":["let init = false;\r\nlet swiper;\r\nlet spinner = false;\r\n\r\nfunction initSlider() {\r\n    const breakPoint = window.matchMedia(\"(max-width: 1280px)\");\r\n\r\n    if (breakPoint.matches && !init) {\r\n        swiper = new Swiper(\".sauna-hero__slider\", {\r\n            loop: true,\r\n            speed: 700,\r\n            autoplay: {\r\n                delay: 5000,\r\n            }\r\n        });\r\n        init = true;\r\n    }\r\n\r\n    if (init && !breakPoint.matches) {\r\n        init = false;\r\n        swiper.destroy();\r\n    }\r\n}\r\n\r\nfunction tabs(tabsControlsSelectors, tabsContentsSelectors, bound) {\r\n    const tabsControls = document.querySelectorAll(tabsControlsSelectors);\r\n    const tabsContents = document.querySelectorAll(tabsContentsSelectors);\r\n\r\n    tabsControls.forEach((control, i) => {\r\n        control.addEventListener(\"click\", () => {\r\n            cleanFromActive();\r\n            control.classList.add(\"active\");\r\n            if (!bound) {\r\n                tabsContents[i].classList.add(\"active\");\r\n            } else {\r\n                bountTabs(i);\r\n            }\r\n        });\r\n    });\r\n\r\n    function cleanFromActive() {\r\n        tabsControls.forEach(item => {\r\n            item.classList.remove(\"active\");\r\n        });\r\n\r\n        tabsContents.forEach(item => {\r\n            item.classList.remove(\"active\");\r\n        });\r\n    }\r\n\r\n    function bountTabs(i) {\r\n        const boundFirstControls = document.querySelectorAll(\".sauna-promo__tabs .sauna-tabs__control\");\r\n        const boundFirstContents = document.querySelectorAll(\".sauna-promo__tabs .sauna-tabs__gallery-item\");\r\n        const boundedControls = document.querySelectorAll(\".sauna-estimate__tabs .sauna-tabs__control\");\r\n        const boundedContents = document.querySelectorAll(\".sauna-estimate__tabs .sauna-tabs__item\");\r\n\r\n        clean(boundFirstControls);\r\n        clean(boundFirstContents);\r\n        clean(boundedControls);\r\n        clean(boundedContents);\r\n\r\n        boundFirstControls[i].classList.add(\"active\"); \r\n        boundFirstContents[i].classList.add(\"active\"); \r\n        boundedControls[i].classList.add(\"active\"); \r\n        boundedContents[i].classList.add(\"active\");\r\n\r\n        function clean(items) {\r\n            items.forEach(item => {\r\n                item.classList.remove(\"active\");\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nfunction initTabSliders(mainsliderSelectors, thumbsliderSelectors, thumbBtnPrev, thumbBtnNext) {\r\n    const galleryThumbs = new Swiper(mainsliderSelectors, {\r\n        spaceBetween: 17,\r\n        slidesPerView: 4,\r\n        freeMode: true,\r\n        watchSlidesVisibility: true,\r\n        watchSlidesProgress: true,\r\n        navigation: {\r\n            prevEl: thumbBtnPrev,\r\n            nextEl: thumbBtnNext\r\n        },\r\n        breakpoints: {\r\n            1200: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 8,\r\n            }\r\n        }\r\n    });\r\n\r\n    const standartSliderTop = new Swiper(thumbsliderSelectors, {\r\n        spaceBetween: 10,\r\n        thumbs: {\r\n            swiper: galleryThumbs,\r\n        }\r\n    });\r\n}\r\n\r\nfunction showAllEstim(allshowTriggers) {\r\n    const allTriggers = document.querySelectorAll(allshowTriggers);\r\n\r\n    allTriggers.forEach(trigger => {\r\n        trigger.addEventListener(\"click\", () => {\r\n            const generalParent = trigger.parentElement.parentElement;\r\n            const hiddenElements = generalParent.querySelectorAll(\".estimate__service--hide\");\r\n\r\n            if (hiddenElements.length !== 0) {\r\n                trigger.classList.add(\"estimate__show-estim--disable\");\r\n            }\r\n\r\n            hiddenElements.forEach(item => {\r\n                item.classList.remove(\"estimate__service--hide\");\r\n            });\r\n        });\r\n    });\r\n\r\n    function func() {\r\n        allTriggers.forEach(item => {\r\n            const generalParent = item.parentElement.parentElement;\r\n            const hiddenElements = generalParent.querySelectorAll(\".estimate__service--hide\");\r\n\r\n            if (hiddenElements.length === 0) {\r\n                item.classList.add(\"estimate__show-estim--disable\");\r\n            }\r\n        });\r\n    }\r\n\r\n    func();\r\n}\r\n\r\nfunction showNeededData() {\r\n    const allRadio = document.querySelectorAll(\".sauna-chose__radio\");\r\n\r\n    function retrieveData(data, key) {\r\n        const found = data.find(elem => elem.name === key);\r\n        return found;\r\n    }\r\n\r\n    function changePrices(data, option) {\r\n        const priceWrapper = document.querySelector(`[data-option=\"${option}\"]`);\r\n        const priceItem = priceWrapper.querySelectorAll(\".sauna-option__price > span\");\r\n\r\n        priceItem.forEach((price, i) => {\r\n            price.textContent = data[i];\r\n        });\r\n    }\r\n\r\n    function changeSizes(size, model) {\r\n        const sizesElems = document.querySelectorAll(\".estimate__sauna-size\");\r\n        const modelElems = document.querySelectorAll(\".estimate__sauna-model\");\r\n\r\n        sizesElems.forEach(item => {\r\n            item.textContent = size;\r\n        });\r\n\r\n        modelElems.forEach(item => {\r\n            item.textContent = \"x \" + model;\r\n        });\r\n    }\r\n\r\n    function changeOptions(data, option) {\r\n        let materialCount = 0;\r\n        let assemblyCount = 0;\r\n\r\n        let parentEl;\r\n        if (option === \"stdSaunas\") {\r\n            parentEl = document.querySelector(\".sauna-tabs__item--std\");\r\n        } else if (option === \"cmfSaunas\") {\r\n            parentEl = document.querySelector(\".sauna-tabs__item--cmf\");\r\n        } else if (option === \"prmSaunas\") {\r\n            parentEl = document.querySelector(\".sauna-tabs__item--prm\");\r\n        }\r\n        \r\n        data.forEach((item, i) => {\r\n            const tabContent = parentEl.querySelectorAll(\".estimate__tab-content\");\r\n            const newItem = document.createElement(\"div\");\r\n            newItem.classList.add(\"estimate__service\");\r\n\r\n            newItem.innerHTML = `\r\n                <div class=\"estimate__key\">\r\n                    ${item.key}\r\n                </div>\r\n                <div class=\"estimate__hyphens\"></div>\r\n                <div class=\"estimate__value\">\r\n                    ${item.value}\r\n                </div>\r\n            `;\r\n\r\n            if (item.type === \"materials\") {\r\n                materialCount++;\r\n\r\n                if (materialCount > 6) {\r\n                    newItem.classList.add(\"estimate__service--hide\");\r\n                }\r\n\r\n                tabContent[0].append(newItem);\r\n            } else {\r\n                assemblyCount++;\r\n\r\n                if (assemblyCount > 5) {\r\n                    newItem.classList.add(\"estimate__service--hide\");\r\n                }\r\n\r\n                tabContent[1].append(newItem);\r\n            }\r\n        });\r\n    }\r\n\r\n    function toggleSpinner(toggler) {\r\n        const spinner = document.querySelector(\".sauna-tabs__loader\");\r\n        if (toggler) {\r\n            spinner.classList.add(\"active\");\r\n        } else {\r\n            spinner.classList.remove(\"active\");\r\n        }\r\n    }\r\n\r\n    function changeData(data) {\r\n        const tabContent = document.querySelectorAll(\".estimate__tab-content\");\r\n        tabContent.forEach(item => {\r\n            item.innerHTML = \"\";\r\n        });\r\n\r\n        for (const key of Object.keys(data)) {\r\n            if (key === \"stdPrice\" || key === \"cmfPrice\" || key === \"prmPrice\") {\r\n                changePrices(data[key], key);\r\n            } else if (key === \"stdSaunas\" || key === \"cmfSaunas\" || key === \"prmSaunas\") {\r\n                changeOptions(data[key], key);\r\n            }\r\n        }\r\n    }\r\n\r\n    allRadio.forEach(item => {\r\n        item.addEventListener(\"click\", () => {\r\n            const data = retrieveData(saunaData, item.id);\r\n            console.log(data);\r\n\r\n            if (data && data.length !== 0) {\r\n                toggleSpinner(true);\r\n                setTimeout(() => {\r\n                    changeData(data);\r\n                }, 100)\r\n\r\n                setTimeout(() => {\r\n                    changeSizes(data.sizes, data.model);\r\n                    toggleSpinner(false);\r\n                }, 1000);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    // slider\r\n    initSlider();\r\n\r\n    tabs(\r\n        \".sauna-promo__tabs .sauna-tabs__control\",\r\n     \".sauna-promo__tabs .sauna-tabs__gallery-item\",\r\n     true\r\n    );\r\n\r\n    tabs(\r\n        \".sauna-estimate__tabs .sauna-tabs__control\",\r\n     \".sauna-estimate__tabs .sauna-tabs__item\",\r\n     true\r\n    );\r\n\r\n    tabs(\r\n        \".sauna-tabs__item--std .estimate__control\",\r\n        \".sauna-tabs__item--std .estimate__tab-content\"\r\n    );\r\n\r\n    tabs(\r\n        \".sauna-tabs__item--cmf .estimate__control\",\r\n        \".sauna-tabs__item--cmf .estimate__tab-content\"\r\n    );\r\n\r\n    tabs(\r\n        \".sauna-tabs__item--prm .estimate__control\",\r\n        \".sauna-tabs__item--prm .estimate__tab-content\"\r\n    );\r\n\r\n    initTabSliders(\r\n        \".sauna-tabs__gallery-item--std .sauna-gallery__thumbs .swiper-container\",\r\n        \".sauna-tabs__gallery-item--std .sauna-gallery__preview\",\r\n        \".sauna-tabs__gallery-item--std .sauna-gallery__arrow--prev\",\r\n        \".sauna-tabs__gallery-item--std .sauna-gallery__arrow--next\"\r\n    );\r\n    initTabSliders(\r\n        \".sauna-tabs__gallery-item--cmf .sauna-gallery__thumbs .swiper-container\",\r\n        \".sauna-tabs__gallery-item--cmf .sauna-gallery__preview\",\r\n        \".sauna-tabs__gallery-item--cmf .sauna-gallery__arrow--prev\",\r\n        \".sauna-tabs__gallery-item--cmf .sauna-gallery__arrow--next\"\r\n    );\r\n    initTabSliders(\r\n        \".sauna-tabs__gallery-item--prem .sauna-gallery__thumbs .swiper-container\",\r\n        \".sauna-tabs__gallery-item--prem .sauna-gallery__preview\",\r\n        \".sauna-tabs__gallery-item--prem .sauna-gallery__arrow--prev\",\r\n        \".sauna-tabs__gallery-item--prem .sauna-gallery__arrow--next\"\r\n    );\r\n\r\n    const choseSaunaSlider = new Swiper(\".sauna-chose__slider\", {\r\n        slidesPerView: 5,\r\n        spaceBetween: 22,\r\n        navigation: {\r\n            prevEl: \".sauna-chose__arrow--prev\",\r\n            nextEl: \".sauna-chose__arrow--next\"\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1,\r\n            },\r\n            576: {\r\n                slidesPerView: 1,\r\n            },\r\n            768: {\r\n                slidesPerView: 2,\r\n            },\r\n            992: {\r\n                slidesPerView: 3,\r\n            },\r\n            1315: {\r\n                slidesPerView: 4,\r\n            },\r\n            1400: {\r\n                slidesPerView: 5\r\n            }\r\n        }\r\n    });\r\n\r\n    showAllEstim(\".estimate__show-estim\");\r\n    showNeededData();\r\n\r\n    const spaSlider = new Swiper(\".sauna-our-works__slider\", {\r\n        slidesPerView: 2,\r\n        spaceBetween: 20,\r\n        pagination: {\r\n            el: \".sauna-our-works__pagination\",\r\n            type: \"progressbar\",\r\n            modifierClass: \"\",\r\n            progressbarFillClass: \"sauna-our-works__paginaton-fill\"\r\n        },\r\n        breakpoints: {\r\n            800: {\r\n                slidesPerView: 1\r\n            },\r\n            1300: {\r\n                slidesPerView: 2,\r\n            }\r\n        }\r\n    });\r\n\r\n    Fancybox.bind(\"[data-fancybox]\", {\r\n        autoFocus: false,\r\n        placeFocusBack: false,\r\n    });\r\n});\r\n\r\n\r\n\r\nwindow.addEventListener(\"resize\", () => {\r\n    initSlider();\r\n});"]}