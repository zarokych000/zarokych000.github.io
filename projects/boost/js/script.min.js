"use strict";

document.addEventListener("DOMContentLoaded", function () {
  console.log('dom ready');
  var hamburger = document.querySelector(".hamburger"),
      menu = document.querySelector(".header-nav");

  try {
    hamburger.addEventListener('click', function (e) {
      hamburger.classList.toggle('hamburger--active');
      menu.classList.toggle('header-nav--show');
    });
  } catch (err) {} // post form


  var sendForm = function sendForm(formSelector, url) {
    var forms = document.querySelectorAll(formSelector);

    var post = function post(url, form) {
      console.log(url);
      var data = new FormData(form);
      console.log(data);
      var response = fetch(url, {
        method: "POST",
        headers: {
          'Accept': 'application/json'
        },
        body: data
      });
      var result = response.then(function (data) {
        return data.json();
      });
      return result;
    };

    forms.forEach(function (form) {
      console.log('form');
      form.addEventListener('submit', function (e) {
        e.preventDefault();
        post(url, form).then(function (data) {
          console.log(data);
        });
      });
    });
  };

  sendForm('.form', "https://formspree.io/f/mzbygyel");
});